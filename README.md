# Readme
This script reads as input the Cartesian coordinates (in xyz format) of an unary nanocluster and, given a dopant element and a number of atoms to be replaced in the unary structure, generates a large number of design based possible configurations for the alloy, such as segregated, core-shell and onionlike.

Currently, the script is appropriate for a nanocluster with three layers, such as to generate the onion-like structure, but can be adapted for larger or smaller clusters with a different number.
# Requirements
Install pip for installing `kmeans1d` library:

```
$ apt install python3-pip
$ pip install kmeans1d scipy numpy
```

# How to run the script

Run *DesignPrinciples.py* with *DesignFunctions.py* on the same folder as the unary structure .xyz file.

Usage on Linux command line:

```
$ python3 DesignPrinciples.py file.xyz dopant dopant_n permutations
```

1. file.xyz = *.xyz* **unary** structure file used as basis for permutations 
2. dopant = dopant element 
3. dopant_n = number of dopant atoms for inserting on unary structure
4. permutations = number permutations per design-principle

The generated permutations are found in the folder 'generated-structures', which is also generated by the script, being those identified by design type.

# Example
Example run utilizing unary $\ce{Au55}$ `EST1.xyz` structure with 13 $\ce{Cu}$ dopants, generating 200 permutations per design-principle:

```
$ python3 DesignPrinciples.py EST1.xyz Cu 13 200
```


# Structure Selection
Upon generating a large number of alloy structures, the user might want to select the most representative ones, to obtain a reduced and yet diverse set. For this we suggest the k-means clustering algorithm with Coulomb Matrix and t-SNE methodologies available at [https://github.com/quiles/Adsorption_Clus](https://github.com/quiles/Adsorption_Clus)

# Other Details
Layer identification is made by an 1D k-means algorithm based on each atom distance to structure geometric center, which has it's k value defined in line 79 in DesignPrinciples.py

The current script is suitable for generation of nanoclusters with 3 layers. If you wish to change how many layers for performing permutations it is necessary to revise the script, in special the onion-like generation function and how the layers are generated, as layer variables are not generated dynamically, they're defined in the code lines.

Along the script, python dicts are utilized for identification of structures atoms with their coordinates in this manner:
```python
{'Au1' : coords, 'Au2' : coords, 'Au3' : coords, 'Cu4' : coords, 'Cu5' : coords, 'Au6' : coords, ...}
```

For other information, please refer to the comments in the python scripts.
